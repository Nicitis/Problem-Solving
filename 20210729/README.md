# 2021.07.28 풀이

## 11054 가장 긴 바이토닉 부분 수열

### 2차 시도

아예 감소하는 수열의 길이 값도 저장하자. 

즉, 10533 가장 긴 증가하는 수열과 11722 가장 긴 감소하는 수열의 dp를 각각 구하는 것이다.

그리고 최종 최대 길이는 다음 중 가장 큰 것이다.

1. 증가하는 부분 수열의 최대 길이
2. 감소하는 부분 수열의 최대 길이
3. 모든 수 i, j(단 j < i <= N)에 관하여 MAX(j번째 증가하는 부분 수열의 길이 - j번째 감소하는 부분 수열의 길이 + i번째 감소하는 부분 수열의 길이)

#### 실패

예를 들어 1 2 4 7 1 3 이런 수열이 있을 경우, 1-2-4-7-1 혹은 1-2-4-7-3이 최대 수열이 된다.

그러나 7 다음에 오는 1은, 감소 수열에서 7-1과 같이 이어질 것이라고 생각해서 7의 감소 수열 최대 길이 - 1의 감소 수열 최대 길이를 하였지만,
이 알고리즘에서는 1에서 나타나는 감소 수열의 최대 길이는 7과 이어지지 않는 감소 수열이라는 점이다.

### 3차 시도

아무리 생각해도 1. 감소 수열을 역순으로 정렬하거나 2. 1~i번째까지 증가하는 수열 dp와 i~n번째까지 감소하는 수열 dp를 저장하는 방법밖에 생각나지 않는다.

그리고 i~n번째까지 가장 긴 감소 부분 수열 dp는 증가 수열의 방식대로라면, 전체 알고리즘을 O(N^3)으로 하지 않고서야 해결이 되지 않았다.

자력으로 해결하는 걸 포기하고 다음 글을 참고하였다.

https://www.acmicpc.net/board/view/60698

해당 글에 따르면, 감소 부분 수열의 길이는 증가 수열의 '역순'으로 구하면 증가 수열과 동일한 방식으로 구할 수 있다.

증가 수열과 감소 수열을 서로 순서를 다르게 해서 계산하는 것이 포인트이다.

이후 감소 수열의 길이를 구할 때 모든 수마다 {(증가 수열의 길이 + 감소 수열의 길이 - 1)}를 바이토닉 부분 수열의 길이로 계산해서 해결할 수 있다.
