# 프로그래머스-시소 짝꿍 #

## 문제 ##
- [코드](seesaw_pair.cpp)
- 프로그래머스, Lv2, 시소 짝궁([코딩테스트 연습 - 시소 짝꿍 | 프로그래머스 스쿨 (programmers.co.kr)](https://school.programmers.co.kr/learn/courses/30/lessons/152996))
- 풀이 시간: 17:23~18:02 (39분 소요)

토크를 계산하는 식은 다음과 같다.

$$
\begin{aligned}
\tau &= r \times \vec F
\end{aligned}
$$

거리 r * 힘 N만 곱하여 저장하면 된다.(무게 단위가 뉴턴 단위로 주어짐)

단순하게 모든 사람 사이의 쌍을 조사하려면 O(N^2)의 시간이 소요되므로, 10만 * 10만 = 10,000,000,000, 즉 100억 개의 경우를 조사해야 해서 시간이 너무 많이 걸린다.

즉, O(n log n)의 시간에 조사할 수 있는 알고리즘을 고안해야 한다.

2, 3, 4미터 지점에 좌석이 설치되어 있으므로 실제로는 몸무게가 2배보다 더 차이나면 비교할 필요가 없다. 따라서 투포인터(또는 슬라이드 윈도우 알고리즘)을 이용하여 실제 조사하는 범위를 줄인다(O(n^2))

다른 방법으로, 좌석 간의 거리가 지정되어 있으므로 비율 1:1, 2:3, 3:4, 1:2에 해당하는 무게의 사람의 수를 조사하여 계산할 수 있다.

무게가 정수 단위로 주어지므로 무게별 해당하는 사람의 수를 기록하여 즉시 계산할 수도 있다(O(n)) → 해당 방법으로 풀도록 하였다.

## 피드백 ##

문제를 풀다가 12~15번 테스트 케이스가 실패해버렸다.

계속 고민해봐도 답이 안 나와서 질문을 봤더니 값의 범위로 인해 오류가 발생한 것으로 나타났다.

참고: [[힌트] 12~15 테스트 케이스 나가는 경우 (스포주의) | 프로그래머스 스쿨 (programmers.co.kr)](https://school.programmers.co.kr/questions/43899)

> 해당 문제는 width 가 100000 입니다.
> 
> 
> 각 숫자에 대응될 수 있는 숫자는 1배, 2배, 3배, 4배 총 400000 입니다.400000 범위에서 2개 찾아서 대응되는 것을 찾는 것이라 무식하게 계산해보면400000 *400000 개의 답이 나올 수 있어요.
> 
> 이게 int 범위를 벗어납니다.2,147,483,647 < 400000*400000
> 
> 숫자 세는 변수를 long 으로 두면 태케 12 ~15 통과하빈다.
> 
> 이거 찾는데 1시간 걸림... 님들은 시간 세이브 하시길 바람니다 수고하세요
> 

문제의 코드는 다음 부분이다.

```cpp
// 1:1, 2:3, 3:4, 2:4에 해당하는 쌍의 수를 계산
if (people[i] >= 2)
    answer += people[i] * (people[i] - 1) / 2; // nC2
if (i % 3 == 0)
    answer += people[i * 2 / 3] * people[i];
if (i % 4 == 0)
    answer += people[i * 3 / 4] * people[i];
if (i % 2 == 0)
    answer += people[i / 2] * people[i];
```

- people는 vector<int>로 선언되어 int로 연산된다.
- 그런데 인원의 수는 최대 10만이므로, 최대 10만 * (99999) / 2 = 약 50억이 되어 int의 범위 약 25억을 넘게 된다.
- 따라서 연산할 때 long long으로 캐스팅해주어야 한다.

앞으로는 값의 범위 또한 고려에 두도록 하자.
