# 2021.07.31.(일) 문제 풀이

## 1699 제곱수의 합

### 아이디어

제곱수의 합은 dp를 사용하면 이전 항의 결과를 사용하여 기술할 수 있다.

예를 들어 자연수 7에 대한 항의 최소 갯수 dp(7)는
7 = (7-1^2) + 1^2 = (7-2^2) + 2^2이므로
dp(7) = min(dp(7 - 1), dp(7 - 4)) + 1이다.

왜 dp 안의 수가 가장 작은 dp(7-4) 말고도 dp(7-1)도 고려하냐면, 12는 9 + 1 + 1 + 1보다 4 + 4 + 4로 서술하는 것이 더 항이 적기 때문이다. 따라서 모든 경우의 수를 고려해야 한다.

제곱수일 땐
dp(1) = 1이고
dp(4) = min(dp(2-1), dp(4-4)) + 1 = dp(4-4) + 1 = 0 + 1 = 1이다.
dp(0) = 0으로 취급한다.
즉, dp(n)는 i * i <= n인 모든 i에 대해 dp(n - i^2) 중 (가장 작은 값 + 1)로 구할 수 있다.

### 개선안

n * n은 상당히 많은 계산이 들어간다.

이 연산을 미리 캐싱하면 좀 더 개선할 수 있는 것 같다.

또 다른 개선안으로, dp의 결과가 1, 2인 경우를 미리 계산해놓는 것이다. 그리고 i=0 to n으로 dp(n) = dp(i) + dp(n-i)를 이용하면 훨씬 빠르게 계산할 수 있다.

최고의 방법은 두 제곱수의 합으로 보는 것이다.
원리를 알 수 없지만 많아도 네 항이면 10만 미만의 수를 완성할 수 있는 듯하다.

따라서 제곱 값을 미리 캐싱하고, root을 씌워 1인 케이스를 해결, 2인 케이스는 제곱수 하나를 뺀 다음 이진탐색을 통해 그에 맞는 수가 있는지 확인하고, 3인 케이스는 제곱수 하나를 뺀 다음 제곱수 + 제곱수를 통해 구한다. 이것도 안 되면 무조건 결과는 4이다.

네 항이면 모든 수를 완성할 수 있다고 가정하는 것은 수학적 원리가 있는 것 같다...

## 2133 타일 채우기

방법이 생각나지 않는다.

결과를 계산하는 점화식이 있을 것 같은데 잘 모르겠다.